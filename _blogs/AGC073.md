---
layout: default
title: AGC073
permalink: /blog/agc073/
---

怎么都这么难

## A. Chords and Checkered

我操我怎么题都看不懂

首先题目不加证明地给出了一个假设：染色存在且唯一，我们这里证一下。

思路：考虑任意一条从圆心连向一个区域的曲线，由这条线穿过边的奇偶性来定义面的颜色。

引理：平面图中任意一条闭合曲线，穿过边的数量一定是偶数。

由于任意两条这样的曲线形成一条闭合曲线（如果相交，看作形成两个交点），因此任意两条曲线穿过边的数量的奇偶性相同。

因此这是良定义的。

那么对于两个相邻的面，存在这样一条线可以经过这个面再到那个面，因此颜色不同。$\square$

然后后面就是一些图论黑魔法了

这里不认为弦会在圆周上相交，即如果存在 $A_i+K\equiv A_j$，那么认为 $A_j$ 实际上是 $A_j+\epsilon$。

考虑把每个黑色区域对应一个点（并非一个），方法是：

- 如果这个面包含一段圆弧，那么把 $1/2$ 的权重分配给圆弧上的两个端点
- 否则，考虑这个面的所有端点，由于弦的长度都是固定的，可以手模发现必然存在一个端点离圆心最远，把它分配给这个点

注意到由于弦的长度一定，所以对于每个黑色区域，最多只有一条弦使其与圆心分隔。

那么就可以讨论贡献了：

- 对于一个圆周上的端点，无论其它弦怎么选，只要它的弦选了，那么它两边的区域必然有一个是黑色的，所以它的贡献是 $1/2\times 1/2=1/4$。
- 对于一个交点，首先可以发现它的离圆心最近的区域是唯一的，也只有这个区域会贡献给它。这个区域是黑色当且仅当存在一条弦与圆心分割。
- 考虑这样的弦的数量。我们考虑**没用的**弦的数量，发现即为满足 $A_i+K\le A_{(i\bmod n)+1}$ 的数量。除了这些弦以外，其它弦都必然能且仅能把一个黑色区域分割出来。
- 因此。设弦的交点数量为 $I$，没用的弦的数量为 $V$，这部分的贡献即为 $1/8\times I-1/8\times (N-V)$

## B. Cyclic Jump

首先这道题**不**可以把正数和负数分开考虑，因为贡献与过程有关。

不失一般性的，$A_1$ 为最小值。

那么 $f(A_1,A_2,\dots,A_n)=A_1+f(A_1,A_2-A_1,\dots,A_n-A_1)$
